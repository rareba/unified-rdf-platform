import{s as b}from"./card.esm-xyvAopFK.js";import{s as W,a as N}from"./tabpanel.esm-Ca3TB14W.js";import{s as f,a as L}from"./inputtext.esm-D_f3k6LS.js";import{s as C}from"./index.esm-BhZig3PL.js";import{s as P}from"./textarea.esm-BYQDUK7K.js";import{d as X,a4 as J,r as c,h as Y,c as u,a as l,b as t,l as Z,u as a,s as h,F as S,k as w,w as d,t as p,C as I,L as M,e as y,n as ee,f as r}from"./index-DFPn2aEF.js";import{s as le}from"./tag.esm-DtJLOoeh.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index.esm-CdlE1liS.js";const te={class:"shacl-studio"},ae={class:"studio-layout"},oe={class:"shape-library"},ne={class:"library-header"},ie={class:"library-categories"},de={class:"category-label"},ue=["onClick"],re={class:"editor-area"},me={key:0,class:"form-builder"},ce={class:"grid"},pe={class:"col-12 md:col-6"},ve={class:"col-12 md:col-6"},fe={class:"col-12 md:col-6"},he={class:"col-12 md:col-6"},Ve={class:"col-12"},ye={class:"flex justify-content-between align-items-center"},ge={class:"property-header"},be={class:"property-path"},Ce={class:"grid property-fields"},Se={class:"col-12 md:col-4"},we={class:"col-12 md:col-4"},_e={class:"col-12 md:col-4"},xe={class:"col-6 md:col-3"},Ue={class:"col-6 md:col-3"},ke={class:"col-6 md:col-3"},Ne={class:"col-6 md:col-3"},Le={class:"col-12 md:col-6"},Pe={class:"col-12 md:col-6"},Ie={class:"code-editor"},$e={class:"validation-tester"},Te={class:"grid"},Me={class:"col-12 md:col-6"},Oe={class:"col-12 md:col-6"},Re={class:"flex justify-content-between align-items-center"},De={key:0,class:"validation-report"},Be={key:0,class:"violations"},Fe={class:"violation-details"},Ae={key:1,class:"empty-state"},Ke={class:"studio-footer"},Ee={class:"footer-right"},Ge=X({__name:"ShaclStudio",setup(je){const _=J(),x=c(0),g=c(""),U=c(null),k=c(""),$=c(""),v=c(null),O=["My Shapes","Templates","Shared"],R=["My Shapes","Templates","Shared","Cube Schema","DCAT","Schema.org"],D=["string","integer","decimal","boolean","date","dateTime","anyURI"],B=["Literal","IRI","BlankNode","BlankNodeOrIRI","BlankNodeOrLiteral","IRIOrLiteral"],T=c([{id:"1",name:"PersonShape",category:"My Shapes",uri:"ex:PersonShape",targetClass:"schema:Person",description:"Validates Person entities",properties:[]},{id:"2",name:"ProductShape",category:"My Shapes",uri:"ex:ProductShape",targetClass:"schema:Product",description:"",properties:[]},{id:"3",name:"CubeObservation",category:"Templates",uri:"cube:ObservationShape",targetClass:"cube:Observation",description:"Standard cube observation shape",properties:[]}]),n=c({uri:"",name:"",targetClass:"",description:"",category:"My Shapes",properties:[]}),F=Y(()=>{if(!g.value)return T.value;const i=g.value.toLowerCase();return T.value.filter(e=>{var V;return e.name.toLowerCase().includes(i)||((V=e.targetClass)==null?void 0:V.toLowerCase().includes(i))})}),A=()=>{n.value={uri:"ex:NewShape",name:"New Shape",targetClass:"",description:"",category:"My Shapes",properties:[]},U.value=null},K=i=>{U.value=i,n.value={...i}},E=()=>{n.value.properties.push({path:"",datatype:"string",nodeKind:"Literal",minCount:null,maxCount:null,minLength:null,maxLength:null,pattern:"",message:""})},G=i=>{n.value.properties.splice(i,1)},j=()=>{let i=`@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix ex: <http://example.org/> .
@prefix schema: <http://schema.org/> .

<${n.value.uri}>
  a sh:NodeShape ;
  sh:targetClass <${n.value.targetClass}> ;
`;n.value.properties.forEach((e,V)=>{e.path&&(i+=`  sh:property [
`,i+=`    sh:path <${e.path}> ;
`,e.datatype&&(i+=`    sh:datatype xsd:${e.datatype} ;
`),e.minCount!==null&&(i+=`    sh:minCount ${e.minCount} ;
`),e.maxCount!==null&&(i+=`    sh:maxCount ${e.maxCount} ;
`),e.pattern&&(i+=`    sh:pattern "${e.pattern}" ;
`),e.message&&(i+=`    sh:message "${e.message}" ;
`),i+=`  ]${V<n.value.properties.length-1?" ;":" ."}
`)}),k.value=i,x.value=1,_.add({severity:"success",summary:"Generated",detail:"Turtle code generated",life:3e3})},q=()=>{_.add({severity:"success",summary:"Valid",detail:"SHACL syntax is valid",life:3e3})},z=()=>{_.add({severity:"success",summary:"Saved",detail:"Shape saved successfully",life:3e3})},H=()=>{v.value={conforms:!1,results:[{severity:"VIOLATION",focusNode:"<http://example.org/person/1>",resultPath:"schema:email",message:"Invalid email format"}]}},Q=i=>({VIOLATION:"danger",WARNING:"warning",INFO:"info"})[i]||"info";return(i,e)=>{const V=ee("tooltip");return r(),u("div",te,[l("div",ae,[l("aside",oe,[l("div",ne,[e[9]||(e[9]=l("h3",null,"Shape Library",-1)),Z(t(a(h),{icon:"pi pi-plus",class:"p-button-sm",onClick:A},null,512),[[V,"New Shape"]])]),t(a(f),{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=s=>g.value=s),placeholder:"Search shapes...",class:"w-full mb-3"},null,8,["modelValue"]),l("div",ie,[(r(),u(S,null,w(O,s=>l("div",{key:s,class:"category-section"},[l("div",de,p(s),1),(r(!0),u(S,null,w(F.value.filter(m=>m.category===s),m=>{var o;return r(),u("div",{key:m.id,class:I(["shape-item",{active:((o=U.value)==null?void 0:o.id)===m.id}]),onClick:qe=>K(m)},[e[10]||(e[10]=l("i",{class:"pi pi-check-square"},null,-1)),l("span",null,p(m.name),1)],10,ue)}),128))])),64))])]),l("div",re,[t(a(W),{activeIndex:x.value,"onUpdate:activeIndex":e[8]||(e[8]=s=>x.value=s)},{default:d(()=>[t(a(N),{header:"Form Builder"},{default:d(()=>[n.value?(r(),u("div",me,[t(a(b),{class:"mb-3"},{title:d(()=>[...e[11]||(e[11]=[y("Node Shape",-1)])]),content:d(()=>[l("div",ce,[l("div",pe,[e[12]||(e[12]=l("label",null,"Shape URI",-1)),t(a(f),{modelValue:n.value.uri,"onUpdate:modelValue":e[1]||(e[1]=s=>n.value.uri=s),class:"w-full"},null,8,["modelValue"])]),l("div",ve,[e[13]||(e[13]=l("label",null,"Name",-1)),t(a(f),{modelValue:n.value.name,"onUpdate:modelValue":e[2]||(e[2]=s=>n.value.name=s),class:"w-full"},null,8,["modelValue"])]),l("div",fe,[e[14]||(e[14]=l("label",null,"Target Class",-1)),t(a(f),{modelValue:n.value.targetClass,"onUpdate:modelValue":e[3]||(e[3]=s=>n.value.targetClass=s),class:"w-full",placeholder:"e.g., schema:Person"},null,8,["modelValue"])]),l("div",he,[e[15]||(e[15]=l("label",null,"Category",-1)),t(a(L),{modelValue:n.value.category,"onUpdate:modelValue":e[4]||(e[4]=s=>n.value.category=s),options:R,class:"w-full"},null,8,["modelValue"])]),l("div",Ve,[e[16]||(e[16]=l("label",null,"Description",-1)),t(a(P),{modelValue:n.value.description,"onUpdate:modelValue":e[5]||(e[5]=s=>n.value.description=s),rows:"2",class:"w-full"},null,8,["modelValue"])])])]),_:1}),t(a(b),null,{title:d(()=>[l("div",ye,[e[17]||(e[17]=l("span",null,"Property Shapes",-1)),t(a(h),{icon:"pi pi-plus",label:"Add Property",class:"p-button-sm",onClick:E})])]),content:d(()=>[(r(!0),u(S,null,w(n.value.properties,(s,m)=>(r(),u("div",{key:m,class:"property-card"},[l("div",ge,[l("span",be,p(s.path||"New Property"),1),t(a(h),{icon:"pi pi-trash",class:"p-button-text p-button-danger p-button-sm",onClick:o=>G(m)},null,8,["onClick"])]),l("div",Ce,[l("div",Se,[e[18]||(e[18]=l("label",null,"Property Path",-1)),t(a(f),{modelValue:s.path,"onUpdate:modelValue":o=>s.path=o,class:"w-full",placeholder:"e.g., schema:name"},null,8,["modelValue","onUpdate:modelValue"])]),l("div",we,[e[19]||(e[19]=l("label",null,"Datatype",-1)),t(a(L),{modelValue:s.datatype,"onUpdate:modelValue":o=>s.datatype=o,options:D,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),l("div",_e,[e[20]||(e[20]=l("label",null,"Node Kind",-1)),t(a(L),{modelValue:s.nodeKind,"onUpdate:modelValue":o=>s.nodeKind=o,options:B,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),l("div",xe,[e[21]||(e[21]=l("label",null,"Min Count",-1)),t(a(C),{modelValue:s.minCount,"onUpdate:modelValue":o=>s.minCount=o,class:"w-full",min:0},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Ue,[e[22]||(e[22]=l("label",null,"Max Count",-1)),t(a(C),{modelValue:s.maxCount,"onUpdate:modelValue":o=>s.maxCount=o,class:"w-full",min:0},null,8,["modelValue","onUpdate:modelValue"])]),l("div",ke,[e[23]||(e[23]=l("label",null,"Min Length",-1)),t(a(C),{modelValue:s.minLength,"onUpdate:modelValue":o=>s.minLength=o,class:"w-full",min:0},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Ne,[e[24]||(e[24]=l("label",null,"Max Length",-1)),t(a(C),{modelValue:s.maxLength,"onUpdate:modelValue":o=>s.maxLength=o,class:"w-full",min:0},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Le,[e[25]||(e[25]=l("label",null,"Pattern (Regex)",-1)),t(a(f),{modelValue:s.pattern,"onUpdate:modelValue":o=>s.pattern=o,class:"w-full"},null,8,["modelValue","onUpdate:modelValue"])]),l("div",Pe,[e[26]||(e[26]=l("label",null,"Message",-1)),t(a(f),{modelValue:s.message,"onUpdate:modelValue":o=>s.message=o,class:"w-full",placeholder:"Validation error message"},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))]),_:1})])):M("",!0)]),_:1}),t(a(N),{header:"Code Editor"},{default:d(()=>[l("div",Ie,[t(a(P),{modelValue:k.value,"onUpdate:modelValue":e[6]||(e[6]=s=>k.value=s),rows:"25",class:"w-full font-mono",style:{"font-family":"monospace"}},null,8,["modelValue"])])]),_:1}),t(a(N),{header:"Validation Tester"},{default:d(()=>[l("div",$e,[l("div",Te,[l("div",Me,[t(a(b),null,{title:d(()=>[...e[27]||(e[27]=[y("Test Data",-1)])]),content:d(()=>[t(a(P),{modelValue:$.value,"onUpdate:modelValue":e[7]||(e[7]=s=>$.value=s),rows:"15",class:"w-full font-mono",placeholder:"Paste RDF data here (Turtle format)"},null,8,["modelValue"])]),_:1})]),l("div",Oe,[t(a(b),null,{title:d(()=>[l("div",Re,[e[28]||(e[28]=l("span",null,"Validation Report",-1)),t(a(h),{label:"Run Validation",icon:"pi pi-play",onClick:H})])]),content:d(()=>[v.value?(r(),u("div",De,[l("div",{class:I(["report-summary",{conforms:v.value.conforms}])},[l("i",{class:I(v.value.conforms?"pi pi-check-circle":"pi pi-times-circle")},null,2),l("span",null,p(v.value.conforms?"Validation Passed":"Validation Failed"),1)],2),v.value.conforms?M("",!0):(r(),u("div",Be,[(r(!0),u(S,null,w(v.value.results,(s,m)=>(r(),u("div",{key:m,class:"violation-item"},[t(a(le),{severity:Q(s.severity)},{default:d(()=>[y(p(s.severity),1)]),_:2},1032,["severity"]),l("div",Fe,[l("div",null,[e[29]||(e[29]=l("strong",null,"Focus:",-1)),y(" "+p(s.focusNode),1)]),l("div",null,[e[30]||(e[30]=l("strong",null,"Path:",-1)),y(" "+p(s.resultPath),1)]),l("div",null,[e[31]||(e[31]=l("strong",null,"Message:",-1)),y(" "+p(s.message),1)])])]))),128))]))])):(r(),u("div",Ae,[...e[32]||(e[32]=[l("i",{class:"pi pi-info-circle"},null,-1),l("span",null,"Run validation to see results",-1)])]))]),_:1})])])])]),_:1})]),_:1},8,["activeIndex"])])]),l("div",Ke,[t(a(h),{label:"Generate Turtle",icon:"pi pi-code",class:"p-button-outlined",onClick:j}),l("div",Ee,[t(a(h),{label:"Validate Syntax",icon:"pi pi-check",class:"p-button-outlined",onClick:q}),t(a(h),{label:"Save Shape",icon:"pi pi-save",class:"p-button-primary",onClick:z})])])])}}}),ll=se(Ge,[["__scopeId","data-v-95f123b3"]]);export{ll as default};
