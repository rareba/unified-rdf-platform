<div class="triplestore-browser">
  <!-- Header -->
  <div class="header">
    <div class="header-left">
      <h1>Triplestore Browser</h1>
      @if (selectedConnection()) {
        <mat-chip [class]="'status-chip status-' + getStatusColor(connectionStatus())">
          <mat-icon>{{ getStatusIcon(connectionStatus()) }}</mat-icon>
          {{ connectionStatus() }}
        </mat-chip>
      }
    </div>
    <div class="actions">
      <button mat-raised-button color="primary" (click)="openConnectionDialog()">
        <mat-icon>add</mat-icon>
        Add Connection
      </button>
      @if (selectedConnection()) {
        <button mat-raised-button (click)="openUploadDialog()">
          <mat-icon>upload</mat-icon>
          Upload RDF
        </button>
      }
    </div>
  </div>

  <!-- Stats Row -->
  @if (connections().length > 0) {
    <div class="stats-row">
      <mat-card class="stat-card">
        <mat-card-content>
          <div class="stat-icon">
            <mat-icon>link</mat-icon>
          </div>
          <div class="stat-info">
            <span class="stat-value">{{ connections().length }}</span>
            <span class="stat-label">Connections</span>
          </div>
        </mat-card-content>
      </mat-card>
      @if (selectedConnection()) {
        <mat-card class="stat-card">
          <mat-card-content>
            <div class="stat-icon">
              <mat-icon>account_tree</mat-icon>
            </div>
            <div class="stat-info">
              <span class="stat-value">{{ graphs().length }}</span>
              <span class="stat-label">Named Graphs</span>
            </div>
          </mat-card-content>
        </mat-card>
        <mat-card class="stat-card">
          <mat-card-content>
            <div class="stat-icon">
              <mat-icon>storage</mat-icon>
            </div>
            <div class="stat-info">
              <span class="stat-value">{{ formatNumber(totalTriples()) }}</span>
              <span class="stat-label">Total Triples</span>
            </div>
          </mat-card-content>
        </mat-card>
      }
    </div>
  }

  @if (loading()) {
    <div class="loading-state">
      <mat-spinner diameter="50"></mat-spinner>
      <p>Loading connections...</p>
    </div>
  } @else if (connections().length === 0) {
    <div class="empty-state">
      <mat-icon>storage</mat-icon>
      <h3>No Connections Configured</h3>
      <p>Add a triplestore connection to get started</p>
      <button mat-raised-button color="primary" (click)="openConnectionDialog()">
        <mat-icon>add</mat-icon>
        Add Connection
      </button>
    </div>
  } @else {
    <!-- Main Content -->
    <div class="main-content">
      <!-- Left Sidebar - Connections & Graphs -->
      <div class="sidebar">
        <!-- Connections List -->
        <mat-card class="sidebar-section">
          <mat-card-header class="section-header">
            <mat-card-title>Connections</mat-card-title>
          </mat-card-header>
          <mat-card-content class="connection-list">
            @for (conn of connections(); track conn.id) {
              <div
                class="connection-item"
                [class.selected]="selectedConnection()?.id === conn.id"
                (click)="selectConnection(conn)">
                <div class="connection-info">
                  <div class="connection-name">
                    <mat-icon>{{ getTypeIcon(conn.type) }}</mat-icon>
                    <span>{{ conn.name }}</span>
                    @if (conn.isDefault) {
                      <mat-chip class="default-chip">Default</mat-chip>
                    }
                  </div>
                  <div class="connection-url">{{ conn.url }}</div>
                </div>
                <div class="connection-status">
                  <mat-chip class="status-mini-chip" [class]="'status-' + getStatusColor(conn.healthStatus)">
                    {{ conn.healthStatus }}
                  </mat-chip>
                </div>
                <div class="connection-actions" (click)="$event.stopPropagation()">
                  <button
                    mat-icon-button
                    matTooltip="Test Connection"
                    [disabled]="testingConnection()"
                    (click)="testConnection(conn)">
                    <mat-icon>sync</mat-icon>
                  </button>
                  <button
                    mat-icon-button
                    matTooltip="Edit"
                    (click)="openEditConnectionDialog(conn)">
                    <mat-icon>edit</mat-icon>
                  </button>
                  <button
                    mat-icon-button
                    color="warn"
                    matTooltip="Delete"
                    (click)="confirmDeleteConnection(conn)">
                    <mat-icon>delete</mat-icon>
                  </button>
                </div>
              </div>
            }
          </mat-card-content>
        </mat-card>

        <!-- Graphs List -->
        @if (selectedConnection()) {
          <mat-card class="sidebar-section">
            <mat-card-header class="section-header">
              <mat-card-title>Named Graphs</mat-card-title>
              @if (graphsLoading()) {
                <mat-spinner diameter="20"></mat-spinner>
              }
            </mat-card-header>
            <mat-card-content>
              @if (graphs().length === 0) {
                <div class="empty-hint">
                  <p>No graphs found</p>
                </div>
              } @else {
                <div class="graph-list">
                  @for (graph of graphs(); track graph.uri) {
                    <div
                      class="graph-item"
                      [class.selected]="selectedGraph()?.uri === graph.uri"
                      (click)="selectGraph(graph)">
                      <div class="graph-info">
                        <span class="graph-uri" [matTooltip]="graph.uri">
                          {{ shortenUri(graph.uri, 40) }}
                        </span>
                        <span class="graph-count">{{ formatNumber(graph.tripleCount) }} triples</span>
                      </div>
                      <div class="graph-actions" (click)="$event.stopPropagation()">
                        <button
                          mat-icon-button
                          matTooltip="Details"
                          (click)="viewGraphDetails(graph)">
                          <mat-icon>info</mat-icon>
                        </button>
                        <button
                          mat-icon-button
                          matTooltip="Export"
                          (click)="exportGraph(graph)">
                          <mat-icon>download</mat-icon>
                        </button>
                        <button
                          mat-icon-button
                          color="warn"
                          matTooltip="Delete"
                          (click)="confirmDeleteGraph(graph)">
                          <mat-icon>delete</mat-icon>
                        </button>
                      </div>
                    </div>
                  }
                </div>
              }
            </mat-card-content>
          </mat-card>
        }
      </div>

      <!-- Main Area -->
      <mat-card class="main-area">
        @if (selectedConnection()) {
          <mat-tab-group>
            <mat-tab label="SPARQL Query">
              <div class="query-section">
                <!-- Query Templates -->
                <div class="templates-bar">
                  <span class="templates-label">Templates:</span>
                  @for (template of queryTemplates; track template.name) {
                    <button
                      mat-button
                      [matTooltip]="template.description"
                      (click)="applyTemplate(template)">
                      {{ template.name }}
                    </button>
                  }
                </div>

                <!-- Query Editor -->
                <mat-form-field class="query-editor" appearance="outline">
                  <mat-label>SPARQL Query</mat-label>
                  <textarea
                    matInput
                    [ngModel]="sparqlQuery()"
                    (ngModelChange)="sparqlQuery.set($event)"
                    rows="8"
                    placeholder="Enter your SPARQL query..."></textarea>
                </mat-form-field>

                <!-- Query Actions -->
                <div class="query-actions">
                  <div class="query-options">
                    @if (graphs().length > 0) {
                      <mat-form-field appearance="outline">
                        <mat-label>Target Graph</mat-label>
                        <mat-select
                          [ngModel]="selectedGraph()"
                          (ngModelChange)="selectedGraph.set($event)">
                          <mat-option [value]="null">All graphs</mat-option>
                          @for (graph of graphs(); track graph.uri) {
                            <mat-option [value]="graph">
                              {{ shortenUri(graph.uri, 35) }} ({{ formatNumber(graph.tripleCount) }})
                            </mat-option>
                          }
                        </mat-select>
                      </mat-form-field>
                    }
                  </div>
                  <button
                    mat-raised-button
                    color="primary"
                    [disabled]="queryLoading()"
                    (click)="executeQuery()">
                    <mat-icon>play_arrow</mat-icon>
                    Execute Query
                  </button>
                </div>

                <!-- Query Results -->
                @if (queryResult()) {
                  <div class="query-results">
                    <div class="results-header">
                      <span class="results-info">
                        {{ queryResult()!.bindings.length }} results in {{ queryResult()!.executionTime }}ms
                      </span>
                      <div class="results-actions">
                        <button
                          mat-button
                          (click)="copyToClipboard(getResultsJson(), 'Results')">
                          <mat-icon>content_copy</mat-icon>
                          Copy Results
                        </button>
                      </div>
                    </div>
                    <div class="table-container">
                      <table mat-table [dataSource]="queryResult()!.bindings" class="results-table">
                        @for (variable of queryResult()!.variables; track variable) {
                          <ng-container [matColumnDef]="variable">
                            <th mat-header-cell *matHeaderCellDef>{{ variable }}</th>
                            <td mat-cell *matCellDef="let row" [matTooltip]="row[variable]?.value">
                              {{ row[variable]?.value }}
                            </td>
                          </ng-container>
                        }
                        <tr mat-header-row *matHeaderRowDef="queryResult()!.variables"></tr>
                        <tr mat-row *matRowDef="let row; columns: queryResult()!.variables;"></tr>
                      </table>
                    </div>
                  </div>
                }
              </div>
            </mat-tab>

            <mat-tab label="Browse Resources">
              @if (selectedGraph()) {
                <div class="resources-section">
                  <!-- Search Bar -->
                  <div class="resources-header">
                    <mat-form-field class="resources-search" appearance="outline">
                      <mat-label>Search resources</mat-label>
                      <input
                        matInput
                        [ngModel]="resourceSearchQuery()"
                        (ngModelChange)="resourceSearchQuery.set($event)"
                        (keyup.enter)="searchResources()"
                        placeholder="Search resources..." />
                      <mat-icon matPrefix>search</mat-icon>
                    </mat-form-field>
                    <button
                      mat-raised-button
                      color="primary"
                      [disabled]="resourcesLoading()"
                      (click)="searchResources()">
                      <mat-icon>search</mat-icon>
                      Search
                    </button>
                    <button
                      mat-raised-button
                      [disabled]="resourcesLoading()"
                      (click)="loadResources(selectedGraph()!.uri)">
                      <mat-icon>refresh</mat-icon>
                      Refresh
                    </button>
                  </div>

                  <!-- Resources Table -->
                  @if (resourcesLoading()) {
                    <div class="loading-hint">
                      <mat-spinner diameter="30"></mat-spinner>
                      <span>Loading resources...</span>
                    </div>
                  } @else if (resources().length === 0) {
                    <div class="empty-hint">
                      <mat-icon>inbox</mat-icon>
                      <p>No resources found</p>
                    </div>
                  } @else {
                    <div class="table-container">
                      <table mat-table [dataSource]="resources()" class="resources-table">
                        <ng-container matColumnDef="uri">
                          <th mat-header-cell *matHeaderCellDef>URI</th>
                          <td mat-cell *matCellDef="let resource" [matTooltip]="resource.uri">
                            {{ shortenUri(resource.uri) }}
                          </td>
                        </ng-container>

                        <ng-container matColumnDef="type">
                          <th mat-header-cell *matHeaderCellDef>Type</th>
                          <td mat-cell *matCellDef="let resource">
                            @if (resource.types?.length > 0) {
                              <span class="type-badge">{{ shortenUri(resource.types[0], 30) }}</span>
                            } @else {
                              <span class="text-muted">-</span>
                            }
                          </td>
                        </ng-container>

                        <ng-container matColumnDef="label">
                          <th mat-header-cell *matHeaderCellDef>Label</th>
                          <td mat-cell *matCellDef="let resource">{{ resource.label || '-' }}</td>
                        </ng-container>

                        <ng-container matColumnDef="actions">
                          <th mat-header-cell *matHeaderCellDef></th>
                          <td mat-cell *matCellDef="let resource">
                            <button
                              mat-icon-button
                              matTooltip="View Details"
                              (click)="viewResource(resource)">
                              <mat-icon>open_in_new</mat-icon>
                            </button>
                          </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="['uri', 'type', 'label', 'actions']"></tr>
                        <tr
                          mat-row
                          *matRowDef="let row; columns: ['uri', 'type', 'label', 'actions'];"
                          class="resource-row"
                          (click)="viewResource(row)"></tr>
                      </table>
                    </div>
                  }
                </div>
              } @else {
                <div class="select-graph-hint">
                  <mat-icon>arrow_back</mat-icon>
                  <p>Select a graph from the sidebar to browse resources</p>
                </div>
              }
            </mat-tab>
          </mat-tab-group>
        } @else {
          <div class="select-connection-hint">
            <mat-icon>arrow_back</mat-icon>
            <p>Select a connection from the sidebar to get started</p>
          </div>
        }
      </mat-card>
    </div>
  }
</div>

<!-- Add Connection Dialog -->
@if (connectionDialogVisible()) {
  <div class="dialog-overlay" (click)="connectionDialogVisible.set(false)">
    <mat-card class="dialog-card" (click)="$event.stopPropagation()">
      <mat-card-header>
        <mat-card-title>Add Connection</mat-card-title>
      </mat-card-header>
      <mat-card-content class="form-content">
        <mat-form-field appearance="outline">
          <mat-label>Name <span class="required">*</span></mat-label>
          <input
            matInput
            [ngModel]="newConnection().name"
            (ngModelChange)="updateNewConnectionName($event)"
            placeholder="My Triplestore" />
        </mat-form-field>

        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Type <span class="required">*</span></mat-label>
            <mat-select
              [ngModel]="newConnection().type"
              (ngModelChange)="updateNewConnectionType($event)">
              @for (type of triplestoreTypes; track type.value) {
                <mat-option [value]="type.value">{{ type.label }}</mat-option>
              }
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Authentication</mat-label>
            <mat-select
              [ngModel]="newConnection().authType"
              (ngModelChange)="updateNewConnectionAuthType($event)">
              @for (auth of authTypes; track auth.value) {
                <mat-option [value]="auth.value">{{ auth.label }}</mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>

        <mat-form-field appearance="outline">
          <mat-label>Endpoint URL <span class="required">*</span></mat-label>
          <input
            matInput
            [ngModel]="newConnection().url"
            (ngModelChange)="updateNewConnectionUrl($event)"
            placeholder="http://localhost:3030/dataset" />
          <mat-hint>The SPARQL endpoint URL</mat-hint>
        </mat-form-field>

        @if (newConnection().authType === 'basic') {
          <div class="form-row">
            <mat-form-field appearance="outline">
              <mat-label>Username</mat-label>
              <input
                matInput
                [ngModel]="newConnection().authConfig?.username"
                (ngModelChange)="updateNewConnectionAuthUsername($event)"
                placeholder="Username" />
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Password</mat-label>
              <input
                matInput
                type="password"
                [ngModel]="newConnection().authConfig?.password"
                (ngModelChange)="updateNewConnectionAuthPassword($event)"
                placeholder="Password" />
            </mat-form-field>
          </div>
        }

        @if (newConnection().authType === 'apikey') {
          <mat-form-field appearance="outline">
            <mat-label>API Key</mat-label>
            <input
              matInput
              type="password"
              [ngModel]="newConnection().authConfig?.apiKey"
              (ngModelChange)="updateNewConnectionAuthApiKey($event)"
              placeholder="API Key" />
          </mat-form-field>
        }

        <mat-form-field appearance="outline">
          <mat-label>Default Graph (optional)</mat-label>
          <input
            matInput
            [ngModel]="newConnection().defaultGraph"
            (ngModelChange)="updateNewConnectionDefaultGraph($event)"
            placeholder="http://example.org/graph" />
        </mat-form-field>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button (click)="connectionDialogVisible.set(false)">Cancel</button>
        <button mat-raised-button color="primary" (click)="createConnection()">
          <mat-icon>check</mat-icon>
          Create
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
}

<!-- Edit Connection Dialog -->
@if (editConnectionDialogVisible()) {
  <div class="dialog-overlay" (click)="editConnectionDialogVisible.set(false)">
    <mat-card class="dialog-card" (click)="$event.stopPropagation()">
      <mat-card-header>
        <mat-card-title>Edit Connection</mat-card-title>
      </mat-card-header>
      <mat-card-content class="form-content">
        <mat-form-field appearance="outline">
          <mat-label>Name <span class="required">*</span></mat-label>
          <input
            matInput
            [ngModel]="editConnection().name"
            (ngModelChange)="updateEditConnectionName($event)" />
        </mat-form-field>

        <div class="form-row">
          <mat-form-field appearance="outline">
            <mat-label>Type</mat-label>
            <mat-select
              [ngModel]="editConnection().type"
              (ngModelChange)="updateEditConnectionType($event)">
              @for (type of triplestoreTypes; track type.value) {
                <mat-option [value]="type.value">{{ type.label }}</mat-option>
              }
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Authentication</mat-label>
            <mat-select
              [ngModel]="editConnection().authType"
              (ngModelChange)="updateEditConnectionAuthType($event)">
              @for (auth of authTypes; track auth.value) {
                <mat-option [value]="auth.value">{{ auth.label }}</mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>

        <mat-form-field appearance="outline">
          <mat-label>Endpoint URL <span class="required">*</span></mat-label>
          <input
            matInput
            [ngModel]="editConnection().url"
            (ngModelChange)="updateEditConnectionUrl($event)" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Default Graph</mat-label>
          <input
            matInput
            [ngModel]="editConnection().defaultGraph"
            (ngModelChange)="updateEditConnectionDefaultGraph($event)" />
        </mat-form-field>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button (click)="editConnectionDialogVisible.set(false)">Cancel</button>
        <button mat-raised-button color="primary" (click)="saveConnection()">
          <mat-icon>check</mat-icon>
          Save
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
}

<!-- Upload RDF Dialog -->
@if (uploadDialogVisible()) {
  <div class="dialog-overlay" (click)="uploadDialogVisible.set(false)">
    <mat-card class="dialog-card dialog-wide" (click)="$event.stopPropagation()">
      <mat-card-header>
        <mat-card-title>Upload RDF Data</mat-card-title>
      </mat-card-header>
      <mat-card-content class="form-content">
        <div class="form-row">
          <mat-form-field appearance="outline" style="flex: 2;">
            <mat-label>Target Graph URI <span class="required">*</span></mat-label>
            <input
              matInput
              [ngModel]="uploadForm().graphUri"
              (ngModelChange)="updateUploadGraphUri($event)"
              placeholder="http://example.org/mygraph" />
          </mat-form-field>

          <mat-form-field appearance="outline" style="flex: 1;">
            <mat-label>Format</mat-label>
            <mat-select
              [ngModel]="uploadForm().format"
              (ngModelChange)="updateUploadFormat($event)">
              @for (format of rdfFormats; track format.value) {
                <mat-option [value]="format.value">{{ format.label }}</mat-option>
              }
            </mat-select>
          </mat-form-field>
        </div>

        <mat-form-field appearance="outline" class="rdf-content-field">
          <mat-label>RDF Content <span class="required">*</span></mat-label>
          <textarea
            matInput
            [ngModel]="uploadForm().content"
            (ngModelChange)="updateUploadContent($event)"
            rows="12"
            placeholder="@prefix ex: <http://example.org/> .

ex:subject1 a ex:Class ;
  rdfs:label &quot;Example&quot; ."></textarea>
        </mat-form-field>
      </mat-card-content>
      <mat-card-actions>
        <button mat-button (click)="uploadDialogVisible.set(false)">Cancel</button>
        <button
          mat-raised-button
          color="primary"
          [disabled]="uploadingRdf()"
          (click)="uploadRdf()">
          <mat-icon>upload</mat-icon>
          Upload
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
}

<!-- Resource Details Dialog -->
@if (resourceDialogVisible() && selectedResource()) {
  <div class="dialog-overlay" (click)="resourceDialogVisible.set(false)">
    <mat-card class="dialog-card dialog-wide" (click)="$event.stopPropagation()">
      <mat-card-header>
        <mat-card-title>Resource Details</mat-card-title>
      </mat-card-header>
      <mat-card-content class="resource-details">
        <div class="resource-uri">
          <label>URI</label>
          <div class="uri-display">
            <code>{{ selectedResource()!.uri }}</code>
            <button
              mat-icon-button
              (click)="copyToClipboard(selectedResource()!.uri, 'URI')">
              <mat-icon>content_copy</mat-icon>
            </button>
          </div>
        </div>

        @if (selectedResource()?.types && selectedResource()!.types.length > 0) {
          <div class="resource-types">
            <label>Types</label>
            <div class="types-list">
              @for (type of selectedResource()!.types; track type) {
                <mat-chip>{{ shortenUri(type, 50) }}</mat-chip>
              }
            </div>
          </div>
        }

        @if (selectedResource()?.properties && selectedResource()!.properties.length > 0) {
          <div class="resource-properties">
            <label>Properties</label>
            <table mat-table [dataSource]="selectedResource()!.properties" class="properties-table">
              <ng-container matColumnDef="predicate">
                <th mat-header-cell *matHeaderCellDef>Predicate</th>
                <td mat-cell *matCellDef="let prop" [matTooltip]="prop.predicate">
                  {{ shortenUri(prop.predicate, 40) }}
                </td>
              </ng-container>

              <ng-container matColumnDef="value">
                <th mat-header-cell *matHeaderCellDef>Value</th>
                <td mat-cell *matCellDef="let prop">
                  @if (prop.objectType === 'uri') {
                    <a [href]="prop.object" target="_blank" class="uri-link">
                      {{ shortenUri(prop.object, 50) }}
                    </a>
                  } @else {
                    <span>{{ prop.object }}</span>
                    @if (prop.language) {
                      <span class="lang-tag">{{ prop.language }}</span>
                    }
                  }
                </td>
              </ng-container>

              <ng-container matColumnDef="type">
                <th mat-header-cell *matHeaderCellDef>Type</th>
                <td mat-cell *matCellDef="let prop">
                  <mat-chip class="type-chip">{{ prop.objectType }}</mat-chip>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="['predicate', 'value', 'type']"></tr>
              <tr mat-row *matRowDef="let row; columns: ['predicate', 'value', 'type'];"></tr>
            </table>
          </div>
        }
      </mat-card-content>
      <mat-card-actions>
        <button mat-button (click)="resourceDialogVisible.set(false)">Close</button>
      </mat-card-actions>
    </mat-card>
  </div>
}

<!-- Graph Details Dialog -->
@if (graphDetailsDialogVisible() && selectedGraph()) {
  <div class="dialog-overlay" (click)="graphDetailsDialogVisible.set(false)">
    <mat-card class="dialog-card" (click)="$event.stopPropagation()">
      <mat-card-header>
        <mat-card-title>Graph Details</mat-card-title>
      </mat-card-header>
      <mat-card-content class="graph-details">
        <div class="detail-item">
          <label>URI</label>
          <div class="uri-display">
            <code>{{ selectedGraph()!.uri }}</code>
            <button
              mat-icon-button
              (click)="copyToClipboard(selectedGraph()!.uri, 'Graph URI')">
              <mat-icon>content_copy</mat-icon>
            </button>
          </div>
        </div>
        <div class="detail-item">
          <label>Triple Count</label>
          <span class="detail-value">{{ formatNumber(selectedGraph()!.tripleCount) }}</span>
        </div>
        @if (selectedGraph()!.lastModified) {
          <div class="detail-item">
            <label>Last Modified</label>
            <span class="detail-value">{{ formatDate(selectedGraph()!.lastModified) }}</span>
          </div>
        }

        <mat-divider></mat-divider>

        <div class="export-options">
          <label>Export As</label>
          <div class="export-buttons">
            <button
              mat-raised-button
              (click)="exportGraph(selectedGraph()!, 'turtle')">
              <mat-icon>download</mat-icon>
              Turtle
            </button>
            <button
              mat-raised-button
              (click)="exportGraph(selectedGraph()!, 'rdfxml')">
              <mat-icon>download</mat-icon>
              RDF/XML
            </button>
            <button
              mat-raised-button
              (click)="exportGraph(selectedGraph()!, 'ntriples')">
              <mat-icon>download</mat-icon>
              N-Triples
            </button>
            <button
              mat-raised-button
              (click)="exportGraph(selectedGraph()!, 'jsonld')">
              <mat-icon>download</mat-icon>
              JSON-LD
            </button>
          </div>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <button
          mat-raised-button
          color="warn"
          (click)="graphDetailsDialogVisible.set(false); confirmDeleteGraph(selectedGraph()!)">
          <mat-icon>delete</mat-icon>
          Delete Graph
        </button>
        <button mat-button (click)="graphDetailsDialogVisible.set(false)">Close</button>
      </mat-card-actions>
    </mat-card>
  </div>
}
